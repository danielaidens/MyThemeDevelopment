{% comment %}
  MASTER SECTION: Fully customizable container
{% endcomment %}

{% style %}
  /* ID ke through unique scope banaya taake dusre sections kharab na hon */
  #section-{{ section.id }} {
    /* Spacing Control */
    padding-top: {{ section.settings.pad_top }}px;
    padding-bottom: {{ section.settings.pad_bottom }}px;
    padding-left: {{ section.settings.pad_left }}px;
    padding-right: {{ section.settings.pad_right }}px;
    
    margin-top: {{ section.settings.mar_top }}px;
    margin-bottom: {{ section.settings.mar_bottom }}px;

    /* Background & Dimensions */
    min-height: {{ section.settings.min_height }}px;
    background-color: {{ section.settings.bg_color }};
    background: {{ section.settings.bg_gradient }}; /* Gradient priority */
    
    position: relative;
    overflow: hidden; /* Video bahar na nikle */
  }

  /* Container Width Control */
  #section-{{ section.id }} .section-container {
    max-width: {{ section.settings.content_width }}px;
    margin: 0 auto; /* Center align */
    position: relative;
    z-index: 2; /* Content video ke upar rahe */
    height: 100%;
  }

  /* Background Video Handling */
  .bg-video-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    overflow: hidden;
  }
  .bg-video-wrapper video {
    object-fit: cover;
    width: 100%;
    height: 100%;
  }

  /* User Custom CSS */
  {{ section.settings.custom_css }}
{% endstyle %}

<div id="section-{{ section.id }}" class="{{ section.settings.custom_class }}">
  
  {% if section.settings.bg_video != blank %}
    <div class="bg-video-wrapper">
      {{ section.settings.bg_video | video_tag: autoplay: true, loop: true, muted: true, controls: false }}
    </div>
  {% endif %}

  <div class="section-container">
    {% for block in section.blocks %}
      <div class="section-block" {{ block.shopify_attributes }}>
        
        {% case block.type %}
          {% when 'custom_code' %}
            {{ block.settings.liquid_code }}
          
          {% when 'text_block' %}
             <h2 style="color: {{ block.settings.text_color }}">{{ block.settings.heading }}</h2>
             <div style="color: {{ block.settings.text_color }}">{{ block.settings.content }}</div>

          {% when '@app' %}
            {% render block %}

        {% endcase %}

      </div>
    {% endfor %}
  </div>

</div>

{% schema %}
{
  "name": "Original Master Section",
  "settings": [
    {
      "type": "header",
      "content": "Layout & Dimensions"
    },
    {
      "type": "range",
      "id": "content_width",
      "min": 400,
      "max": 1600,
      "step": 20,
      "unit": "px",
      "label": "Content Width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "min_height",
      "min": 0,
      "max": 800,
      "step": 10,
      "unit": "px",
      "label": "Minimum Height",
      "default": 0
    },
    {
      "type": "header",
      "content": "Spacing (Padding & Margin)"
    },
    {
      "type": "range",
      "id": "pad_top",
      "min": 0,
      "max": 100,
      "label": "Padding Top",
      "default": 40
    },
    {
      "type": "range",
      "id": "pad_bottom",
      "min": 0,
      "max": 100,
      "label": "Padding Bottom",
      "default": 40
    },
    {
      "type": "range",
      "id": "pad_left",
      "min": 0,
      "max": 100,
      "label": "Padding Left",
      "default": 20
    },
    {
      "type": "range",
      "id": "pad_right",
      "min": 0,
      "max": 100,
      "label": "Padding Right",
      "default": 20
    },
    {
      "type": "range",
      "id": "mar_top",
      "min": 0,
      "max": 100,
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "mar_bottom",
      "min": 0,
      "max": 100,
      "label": "Margin Bottom",
      "default": 0
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color_background",
      "id": "bg_gradient",
      "label": "Background Gradient"
    },
    {
      "type": "video",
      "id": "bg_video",
      "label": "Background Video"
    },
    {
      "type": "header",
      "content": "Developer"
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom CSS Class"
    },
    {
      "type": "liquid",
      "id": "custom_css",
      "label": "Custom CSS Rules",
      "info": "Write standard CSS here."
    }
  ],
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "custom_code",
      "name": "Custom Liquid/HTML",
      "settings": [
        {
          "type": "liquid",
          "id": "liquid_code",
          "label": "Liquid or HTML Code",
          "default": "<p>Write your code here</p>"
        }
      ]
    },
    {
      "type": "text_block",
      "name": "Simple Text",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Hello World"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>Add your text here.</p>"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text Color",
          "default": "#000000"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Original Master Section",
      "blocks": [
        {
          "type": "text_block"
        }
      ]
    }
  ]
}
{% endschema %}