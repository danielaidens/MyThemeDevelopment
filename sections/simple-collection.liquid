{% comment %}
  PAGINATION: 
  Shopify ek page par maximum 50 products allow karta hai. 
  Isliye hum 'paginate' tag use karte hain. 
  Yahan hum keh rahe hain: "Ek page par sirf 8 products dikhao".
{% endcomment %}

{% paginate collection.products by 8 %}

<div class="collection-page" style="max-width: 1200px; margin: 0 auto; padding: 20px;">
  
  <h1 style="text-align: center;">{{ collection.title }}</h1>
  <p style="text-align: center;">Total Products: {{ collection.products_count }}</p>

  <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-top: 30px;">
    
    {% for product in collection.products %}
      
      <div class="product-card" style="border: 1px solid #eee; padding: 10px; text-align: center;">
        
        <a href="{{ product.url }}">
          {% if product.featured_image %}
            <img src="{{ product.featured_image | image_url: width: 300 }}" 
                 alt="{{ product.title }}" 
                 style="width: 100%; height: auto;" width=300 height=300>
          {% else %}
            {{ 'product-1' | placeholder_svg_tag }}
          {% endif %}
        </a>

        <h3><a href="{{ product.url }}" style="text-decoration: none; color: black;">{{ product.title }}</a></h3>
        <p>{{ product.price | money }}</p>

        {% unless product.available %}
          <strong style="color: red;">SOLD OUT</strong>
        {% endunless %}

      </div>

    {% else %}
      <p>Sorry, no products found in this collection.</p>
    {% endfor %}

  </div>

  {% if paginate.pages > 1 %}
    <div style="margin-top: 40px; text-align: center;">
      {{ paginate | default_pagination }}
    </div>
  {% endif %}

</div>

{% endpaginate %}

{% schema %}
{
  "name": "Simple Collection",
  "settings": [],
  "presets": [
    {
      "name": "Simple Collection"
    }
  ]
}
{% endschema %}